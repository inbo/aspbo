# Setup
```{r libraries}
library(aws.s3)
```

Indien nodig installeer boto3
```{r install boto3, eval=FALSE}
system('pip install boto3')
```

Onderstaande code maakt een profiel aan met een sessiontoken die één uur geldig 
is. Deze heb je nodig om verbinding te maken met de s3 buckets.
```{r refresh AWS_PROFILE}
system(paste0('python ../../../bin/aws-cli-mfa-login -u ', 
              Sys.getenv("USERNAME"), 
              ' -a inbo-uat -r inbo-developers-fis-role'))

aws_profile <- paste0("inbo-uat-", 
                      strsplit(Sys.getenv("USERNAME"), split = "-"))
aws_profile <- gsub(pattern = "_", replacement = "-", x = aws_profile)

Sys.setenv("AWS_PROFILE" = aws_profile)
```

```{r test_bucket}
filelist <- get_bucket_df("inbo-exotenportaal-uat-eu-west-1-default")
```




